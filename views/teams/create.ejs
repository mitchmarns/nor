<div class="dashboard-hero">
  <h1 class="dashboard-welcome page-title">CREATE NEW TEAM</h1>
</div>

<div class="row">
  <div class="col-12 col-md-8 mx-auto">
    <form action="/teams/create" method="POST" class="card p-4">
      <div class="mb-4">
        <h2 class="mb-2 card-title">New Team Details</h2>
        <div class="color-display mb-3"></div>
      </div>
      <div class="form-group mb-3">
        <label for="name" class="card-info-label">Team Name</label>
        <input type="text" id="name" name="name" class="form-control" required>
      </div>
      <div class="form-group mb-3">
        <label for="city" class="card-info-label">City</label>
        <input type="text" id="city" name="city" class="form-control">
      </div>
      <div class="form-group mb-3">
        <label for="mascot" class="card-info-label">Mascot</label>
        <input type="text" id="mascot" name="mascot" class="form-control">
      </div>
      <div class="form-group mb-3">
        <label for="logoUrl" class="card-info-label">Team Logo URL</label>
        <input type="url" id="logoUrl" name="logoUrl" class="form-control" placeholder="https://example.com/logo.png" oninput="updateLogoPreview()">
        <small class="form-text text-muted">Paste a direct link to your logo image (optional)</small>
        <div id="logoPreview" class="mt-2" style="display:none;">
          <img src="" alt="Logo Preview" class="card-img-top" style="max-width:120px;max-height:120px;border-radius:8px;">
        </div>
      </div>
      <div class="form-row mb-4 team-colors">
        <div class="color-input-group flex-fill mx-1">
          <label for="primaryColor">Primary Color</label>
          <input type="color" id="primaryColor" name="primaryColor" class="form-control-color" value="#000000" onchange="updateColorDisplay()">
        </div>
        <div class="color-input-group flex-fill mx-1">
          <label for="secondaryColor">Secondary Color</label>
          <input type="color" id="secondaryColor" name="secondaryColor" class="form-control-color" value="#ffffff" onchange="updateColorDisplay()">
        </div>
        <div class="color-input-group flex-fill mx-1">
          <label for="accentColor">Accent Color</label>
          <input type="color" id="accentColor" name="accentColor" class="form-control-color" value="#ff0000" onchange="updateColorDisplay()">
        </div>
      </div>
      <div class="form-row justify-content-between align-items-center mt-4">
        <button type="submit" class="btn btn-primary btn-create">Create Team</button>
        <a href="/teams" class="btn btn-secondary ml-2">Cancel</a>
      </div>
    </form>
  </div>
</div>
<script>
  function updateLogoPreview() {
    const url = document.getElementById('logoUrl').value;
    const preview = document.getElementById('logoPreview');
    const img = preview.querySelector('img');
    if (url && /^https?:\/\/.+\.(jpg|jpeg|png|gif|svg)$/i.test(url)) {
      img.src = url;
      preview.style.display = 'block';
    } else {
      preview.style.display = 'none';
      img.src = '';
    }
  }
  function updateColorDisplay() {
    const p = document.getElementById('primaryColor').value;
    const s = document.getElementById('secondaryColor').value;
    const a = document.getElementById('accentColor').value;
    const el = document.querySelector('.color-display');
    el.style.backgroundImage = `linear-gradient(to right, ${p} 0%, ${s} 50%, ${a} 100%)`;
  }
  document.addEventListener('DOMContentLoaded', updateColorDisplay);
</script>

